<%- model_class = Employee -%>
<%- opts = { :type => :textarea, :ok_button => t(:'save'), :cancel_button => t(:'cancel'), :use_confirm => false } %>
<%- opts.delete(:ok_button) if params[:suppress_ok_button] %>
<div class="row-fluid">
  <div class="page-header">
    <h1><%= t(:"employee.model_title") %> -
      <%= best_in_place @employee, :first_name, opts %> <%= best_in_place @employee, :last_name, opts %> <%= best_in_place @employee, :patronymic, opts %>
    </h1>
  </div>

  <div class="span4">
    <dl class="dl-horizontal">
      <dt><strong><%= I18n.t(:"employee.form.user_id") %>:</strong></dt>
      <dd><%= link_to @employee.user.full_name, profile_path(@employee.user) %></dd>
      <dt><strong><%= I18n.t(:"employee.form.created_at") %>:</strong></dt>
      <dd><%= l @employee.created_at, format: :long %></dd>
      <dt><strong><%= I18n.t(:"employee.form.title") %>:</strong></dt>
      <dd><%= best_in_place @employee, :title, :type => :select, :collection => Employee::TITLE.map{|key, value| [key, t(value)]} %></dd>
      <dt><strong><%= I18n.t(:"employee.form.last_name") %>:</strong></dt>
      <dd><%= best_in_place @employee, :last_name, opts %></dd>
      <dt><strong><%= I18n.t(:"employee.form.first_name") %>:</strong></dt>
      <dd><%= best_in_place @employee, :first_name, opts %></dd>
      <dt><strong><%= I18n.t(:"employee.form.patronymic") %>:</strong></dt>
      <dd><%= best_in_place @employee, :patronymic, opts %></dd>
      <dt><strong><%= I18n.t(:"employee.form.gender") %>:</strong></dt>
      <dd>
        <% if current_language == "ro" %>
          <%= best_in_place @employee, :gender_id, :type => :select, :collection => Gender.all.map{|x| [x.id, x.name_ro]} %>
        <% elsif current_language == "en" %>
          <%= best_in_place @employee, :gender_id, :type => :select, :collection => Gender.all.map{|x| [x.id, x.name]} %>
        <% else %>
          <%= best_in_place @employee, :gender_id, :type => :select, :collection => Gender.all.map{|x| [x.id, x.name_ru]} %>
        <% end %>
      </dd>
      <dt><strong><%= I18n.t(:"employee.form.birthday") %>:</strong></dt>
      <dd><%= l @employee.birthday, format: :long %></dd>
      <dt><strong><%= I18n.t(:"employee.form.language") %>:</strong></dt>
      <dd>
        <%#= Employee::LANGUAGE[@employee.language] %>
        <% if current_language == "ro" %>
          <%= best_in_place @employee, :language_id, :type => :select, :collection => Language.all.map{|x| [x.id, x.name_ro]} %>
        <% elsif current_language == "en" %>
          <%= best_in_place @employee, :language_id, :type => :select, :collection => Language.all.map{|x| [x.id, x.name]} %>
        <% else %>
          <%= best_in_place @employee, :language_id, :type => :select, :collection => Language.all.map{|x| [x.id, x.name_ru]} %>
        <% end %>
      <dt><strong><%= I18n.t(:"employee.form.company_id") %>:</strong></dt>
      <dd>
        <%= best_in_place @employee, :company_id, type: :select, collection: Company.all.map{|x| [x.id, x.name]} %>
      </dd>
      <dt><strong><%= I18n.t(:"employee.form.job_title_id") %>:</strong></dt>
      <dd>
        <% if current_language == "ro" %>
          <%= best_in_place @employee, :job_title_id, :type => :select, :collection => JobTitle.all.map{|x| [x.id, x.job_title_ro]} %>
        <% elsif current_language == "en" %>
          <%= best_in_place @employee, :job_title_id, :type => :select, :collection => JobTitle.all.map{|x| [x.id, x.job_title]} %>
        <% else %>
          <%= best_in_place @employee, :job_title_id, :type => :select, :collection => JobTitle.all.map{|x| [x.id, x.job_title_ru]} %>
        <% end %>
      </dd>
      <dt><strong><%= I18n.t(:"employee.form.decision") %>:</strong></dt>
      <dd>
        <%= best_in_place @employee, :decision, :type => :checkbox,
                            :collection => [I18n.t(:"employee.form.cant_take_decision"), I18n.t(:"employee.form.take_decision")] %>
      </dd>
      <dt><strong><%= I18n.t(:"employee.form.phone") %>:</strong></dt>
      <dd><%= best_in_place @employee, :phone, opts %></dd>
      <dt><strong><%= I18n.t(:"employee.form.mobile") %>:</strong></dt>
      <dd><%= best_in_place @employee, :mobile, opts %></dd>
      <dt><strong><%= I18n.t(:"employee.form.simtravel") %>:</strong></dt>
      <dd><%= best_in_place @employee, :simtravel, opts %></dd>
      <dt><strong><%= I18n.t(:"employee.form.email") %>:</strong></dt>
      <dd><%= best_in_place @employee, :email, opts %></dd>
      <dt><strong><%= I18n.t(:"employee.form.skype") %>:</strong></dt>
      <dd><%= best_in_place @employee, :skype, opts %></dd>
      <dt><strong><%= I18n.t(:"employee.form.facebook") %>:</strong></dt>
      <dd><%= best_in_place @employee, :facebook, opts %></dd>
      <dt><strong><%= I18n.t(:"employee.form.client_date") %>:</strong></dt>
      <dd><%= l @employee.client_date, format: :long %></dd>
<!--       <dt><strong><%#= I18n.t(:"employee.form.completion") %>:</strong></dt>
      <dd><%#= best_in_place @employee, :completion %></dd> -->
    </dl>
  </div>
  <div class="span6">
    <h4><%= t(:'company.show.comments') %></h4>
    <%= render partial: 'comments/form' %>
    <div class="comments">
      <%= render @comments %>
    </div>
  </div>
</div>
<div class="row-fluid">
  <div class="form-actions">
    <%= link_to t('.back', :default => t("helpers.links.back")),
                company_path(@company), :class => 'btn'  %>
    <%= link_to t('.edit', :default => t("helpers.links.edit")),
                edit_company_employee_path(@company, @employee), :class => 'btn' %>
    <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
                company_employee_path(@company, @employee),
                :method => 'delete',
                :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
                :class => 'btn btn-danger' %>
  </div>
</div>
